[machine_to_arch_id]
x86_16 = 0
x86_32 = 1
i386 = 1    ; x86_32
i486 = 1    ; x86_32
x64 = 2
x86_64 = 2
i586 = 2    ; x86_64
mips32 = 3
mips64 = 4
arm = 5     ; ARM32
arm64 = 6   ; ARM64
aarch64_be = 6
aarch64 = 6
armv8b = 6
armv8l = 6
m68k = 7
sparc = 8
sparc64 = 9

[machine_to_target_name]
i386 = x86_32
i486 = x86_32
i586 = x86_64
x86_64 = x86_64


[arch_id_to_bits]
0 = 16  ; x86_16
1 = 32  ; x86_32
2 = 64  ; x86_64
3 = 32  ; MIPS32
4 = 64  ; MIPS64
5 = 32  ; ARM32
6 = 64  ; ARM64
7 = 32  ; M68K
8 = 32  ; SPARC32
9 = 64  ; SPARC64

[host]
assembler = as
compiler = gcc
linker = ld
architecture_id = MACHINE_TO_ARCH_ID[platform.machine()]
architecture_bits = ARCH_ID_TO_BITS[MACHINE_TO_ARCH_ID[platform.machine()]]
compiler_defines =
    -march=native
    -mtune=native
assembler_defines =
    -march=native


[x86_16]
assembler = nasm
compiler = gcc
linker = ld
architecture_id = 0
architecture_bits = 16
compiler_defines =
    -m16
assembler_defines =


[x86_32]
assembler = nasm
compiler = gcc
linker = ld
architecture_id = ${machine_to_arch_id:x86_32}
architecture_bits = 32
compiler_defines =
    -march=i386
assembler_defines =


[x86_64]
assembler = nasm
compiler = x86_64-linux-gnu-gcc
linker = x86_64-linux-gnu-ld
architecture_id = ${machine_to_arch_id:x86_64}
architecture_bits = 64
compiler_defines =
    -march=x86-64
assembler_defines =


[mips32]
assembler = mips-linux-gnu-as
compiler = mips-linux-gnu-gcc
linker = mips-linux-gnu-ld
architecture_id = ${machine_to_arch_id:mips32}
architecture_bits = 32
compiler_defines =
    -march=mips32
assembler_defines =
    -march=mips32


[mips64]
assembler = mips-linux-gnu-as
compiler = mips-linux-gnu-gcc
linker = mips-linux-gnu-ld
architecture_id = ${machine_to_arch_id:mips64}
architecture_bits = 64
compiler_defines =
    -march=mips64
assembler_defines =
    -march=mips64
